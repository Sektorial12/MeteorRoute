{
  "network": "devnet",
  "cluster": "https://api.devnet.solana.com",
  "commitment": "confirmed",
  
  "deployment": {
    "vault_seed": "meteora_wif_sol_v1_devnet",
    "quote_mint": "So11111111111111111111111111111111111111112",
    "base_mint": "EKpQGSJtjMFqKZ9KQanSqYXRcF8fBopzLHYxdM65zcjm",
    "tick_lower": 8000,
    "tick_upper": 11000
  },
  
  "policy_config": {
    "investor_fee_share_bps": 7000,
    "daily_cap_quote_lamports": 0,
    "min_payout_lamports": 1000,
    "policy_fund_missing_ata": true
  },
  
  "test_config": {
    "y0_total_allocation": "100000000000000",
    "mock_investors": [
      {
        "name": "Investor 1",
        "locked_amount": "60000000000000"
      },
      {
        "name": "Investor 2", 
        "locked_amount": "30000000000000"
      },
      {
        "name": "Investor 3",
        "locked_amount": "10000000000000"
      }
    ],
    "mock_claimed_quote": 5000000,
    "expected_distributions": {
      "investor_1": 2100000,
      "investor_2": 1050000,
      "investor_3": 350000,
      "creator_remainder": 1500000
    }
  },
  
  "test_scenarios": [
    {
      "name": "Basic Pro-Rata Distribution",
      "description": "Test basic proportional distribution with 3 investors",
      "claimed_quote": 5000000,
      "claimed_base": 0,
      "expected_success": true
    },
    {
      "name": "Base Fee Detection",
      "description": "Test base fee detection and rejection",
      "claimed_quote": 1000000,
      "claimed_base": 50000,
      "expected_success": false,
      "expected_error": "ERR_BASE_FEE_DETECTED"
    },
    {
      "name": "24h Gate Enforcement",
      "description": "Test that distribution cannot run twice in same day",
      "test_type": "double_distribution",
      "expected_success": false,
      "expected_error": "ERR_DAY_GATE_NOT_PASSED"
    },
    {
      "name": "Dust Handling",
      "description": "Test dust accumulation and carry-over",
      "claimed_quote": 1000,
      "min_payout_lamports": 250,
      "expected_dust": 600
    },
    {
      "name": "Daily Cap Enforcement",
      "description": "Test daily distribution cap",
      "claimed_quote": 10000000,
      "daily_cap": 3000000,
      "expected_distributed": 3000000
    },
    {
      "name": "All Unlocked Scenario",
      "description": "Test when all tokens are unlocked (100% to creator)",
      "locked_total": 0,
      "claimed_quote": 2000000,
      "expected_creator_payout": 2000000
    }
  ],
  
  "integration_tests": [
    {
      "name": "Multi-Page Distribution",
      "description": "Test pagination with multiple investor pages",
      "total_investors": 150,
      "investors_per_page": 50,
      "expected_pages": 3
    },
    {
      "name": "ATA Creation Policy",
      "description": "Test missing ATA creation based on policy",
      "missing_ata_percentage": 20,
      "policy_fund_missing_ata": true,
      "expected_ata_creations": 1
    },
    {
      "name": "Transfer Failure Handling",
      "description": "Test individual transfer failure handling",
      "simulated_failures": 2,
      "total_investors": 10,
      "expected_successful_transfers": 8
    }
  ],
  
  "performance_benchmarks": {
    "max_investors_per_page": 50,
    "max_compute_units": 200000,
    "target_execution_time_ms": 2000,
    "memory_usage_limit_kb": 512
  },
  
  "monitoring": {
    "events_to_verify": [
      "HonoraryPositionInitialized",
      "QuoteFeesClaimed", 
      "InvestorPayoutPage",
      "CreatorPayoutDayClosed"
    ],
    "pda_accounts_to_monitor": [
      "policy_pda",
      "progress_pda", 
      "position_owner_pda"
    ],
    "error_codes_to_test": [
      "ERR_BASE_FEE_DETECTED",
      "ERR_DAY_GATE_NOT_PASSED",
      "ERR_ALREADY_DISTRIBUTED",
      "ERR_OVERFLOW",
      "ERR_PDA_SEED_MISMATCH"
    ]
  }
}
